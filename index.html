<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 4.01//EN" "http://www.w3.org/TR/html4/strict.dtd">
<html lang="en">
<head>
	<meta http-equiv="Content-Type" content="text/html;charset=UTF-8">
	<title>表</title>
</head>
<style>
	#canvas{
      	/*border:1px solid red;*/
		position: absolute;
		left: 0;
		right: 0;
		top:0;
		margin:auto;
	}
</style>
<body>
	<canvas id="canvas" width="600" height="600"></canvas>
</body>
<script>
	var canvas = document.querySelector('#canvas');
	var ctx = canvas.getContext('2d');
 
	 var r = function(deg){
        return Math.PI/180*deg;
     }

     var biao=function(){
     	var img = new Image();
     	img.src = '2.png';
     	img.onload = function(){
     		ctx.clearRect(0,0,600,600);
     		var ptrn = ctx.createPattern(img,'repeat');
     		ctx.fillStyle = ptrn;
     		ctx.fillRect(0,0,600,600);
     		var now=new Date();
     		var miao=now.getSeconds();
     		var fen=now.getMinutes();
     		var shi=now.getHours();
     		var hao=now.getMilliseconds();
     		ctx.save();
     		ctx.translate(310,275);
     		ctx.beginPath();
     		ctx.stroke();
     		ctx.closePath();
     //中心点
     ctx.save();
     ctx.rotate(r(360*(miao*1000+hao)/60000));
     ctx.beginPath();
     ctx.moveTo(0,5);
     ctx.lineTo(0,20);
     ctx.moveTo(5,0);
     ctx.arc(0,0,5,0,r(360));
     ctx.moveTo(0,-5);
     ctx.lineTo(0,-110);
     ctx.shadowOffsetX=3;
     ctx.shadowOffsetY=2;
     ctx.shadowColor="rgba(0,0,0,0.7)";
     ctx.strokeStyle='rgba(255,255,255,0.8)';
     ctx.lineWidth=2;
     ctx.stroke();
     ctx.closePath();
     ctx.restore();
     // 时针
     ctx.save();
     ctx.rotate(r(360*(shi*60*60+60*fen+miao)/43200));
     ctx.beginPath();
     // ctx.rotate(r(deg));
     ctx.moveTo(0,5);
     ctx.lineTo(0,20);
     ctx.moveTo(0,-5);
     ctx.lineTo(0,-50);
     ctx.strokeStyle='rgba(255,255,255,0.8)';
     ctx.lineWidth=7;
     ctx.stroke();
     ctx.closePath();
     ctx.restore();
     // 分针
     ctx.save();
     ctx.rotate(r(360*((fen*60+miao)/3600)));

     // ctx.rotate(r(90));
     ctx.beginPath();
     ctx.moveTo(0,5);
     ctx.lineTo(0,20);
     ctx.moveTo(0,-5);
     ctx.lineTo(0,-100);
     // ctx.lineCap="round";
     ctx.strokeStyle='rgba(255,255,255,0.8)';
     ctx.lineWidth=7;
     ctx.stroke();
     ctx.closePath();
     ctx.restore();
     ctx.restore();
 }
}
biao();
setInterval(biao,1);

</script>
</html>